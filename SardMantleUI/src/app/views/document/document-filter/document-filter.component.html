<mat-card style="height: calc(100vh - 20px);">
    <mat-card-header>
        <mat-card-title>
            Search
        </mat-card-title>
    </mat-card-header>
    <mat-card-content style="overflow: auto">
        <mat-divider style="margin-top: 15px;"/>
        <div class="search-main-bars">
            <div>
                <h4 class="section-header">Documents</h4>
                <app-search-bar [placeholder]="'Filter Documents by Name...'" [control]="documentControl" [searchButton]="false" />
            </div>
        </div>
        <div>
            <mat-divider style="margin-top: 15px;"/>
            <h4 class="section-header">Included Types {{selectedTypes.length > 0 ? "(" + selectedTypes.length + " selected)" : ""}}</h4>
            <app-search-bar [placeholder]="'Find Types...'" [control]="documentTypeControl" (search)="filterDocumentTypes()" #typesSearchBar/>
            <div class="document-types-results" style="margin-top: 10px">
                <mat-card *ngFor="let type of documentTypes" style="display: grid; grid-template-columns: auto 50px; margin: 3px; margin: 3px; background-color: var(--secondary-accent-color);">
                    <mat-card-content style="word-break: break-all; text-wrap:pretty">
                        {{type.name}}
                    </mat-card-content>
                    <div>
                        <button mat-icon-button style="margin: 5px;" (click)="toggleTypeSelected(type)">
                            <mat-icon *ngIf="!type.selected">
                                radio_button_unchecked
                            </mat-icon>
                            <mat-icon *ngIf="type.selected">
                                check_circle
                            </mat-icon>
                        </button>
                    </div>
                </mat-card>
            </div>
        </div>
        <div *ngIf="searchableParams.length > 0">
            <mat-divider style="margin-top: 15px;"/>
            <h4 class="section-header">Parameters</h4>
            <ng-template #parameterContainer></ng-template>
            <app-edit-string *ngFor="let param of searchableParams" [parameterName]="param.name" [parameterSummary]="param.summary"/>
        </div>
    </mat-card-content>
    <mat-card-actions>
        <button mat-button style="width: 100%" color="primary" (click)="onSearch()">
            Search
        </button>
    </mat-card-actions>
</mat-card>
