<app-settings-topbar pageName="Menus" [showAdd]="true" (add)="add()" />
<div style="display: grid; grid-template-columns: 1fr 350px; gap: 10px; position: absolute; top: 75px; bottom: 10px; right: 10px; left: 10px;">
    <mat-card>
        <mat-card-content>
            <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="selection-tree">
                <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
                    <div class="mat-tree-node">
                        <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name" disabled="true">
                            <mat-icon class="mat-icon-rtl-mirror">
                                horizontal_rule
                            </mat-icon>
                        </button>
                        <div>
                          <mat-icon style="margin-top: 10px;">
                              {{node.icon}}
                          </mat-icon>
                          {{node.name}}
                        </div>
                        
                        <div style="margin-left: auto; margin-right: 20px; display: flex;">
                          <button mat-icon-button (click)="up(node)">
                              <mat-icon>arrow_upward</mat-icon>
                          </button>
                          <button mat-icon-button (click)="down(node)">
                              <mat-icon>arrow_downward</mat-icon>
                          </button>
                          <button mat-icon-button (click)="edit(node)">
                              <mat-icon>edit</mat-icon>
                          </button>
                          <button mat-icon-button (click)="delete(node)">
                              <mat-icon>delete</mat-icon>
                          </button>
                          <button mat-icon-button (click)="addTo(node)">
                              <mat-icon>add</mat-icon>
                          </button>
                      </div>
                      </div>
                      <div [class.selection-tree-invisible]="!treeControl.isExpanded(node)"
                          role="group">
                        <ng-container matTreeNodeOutlet></ng-container>
                    </div>
                </mat-tree-node>
                <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
                    <div class="mat-tree-node">
                      <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name">
                        <mat-icon class="mat-icon-rtl-mirror">
                          {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                        </mat-icon>
                      </button>
                      <div>
                        <mat-icon style="margin-top: 10px;">
                            {{node.icon}}
                        </mat-icon>
                        {{node.name}}
                      </div>
                      
                      <div style="margin-left: auto; margin-right: 20px; display: flex;">
                        <button mat-icon-button (click)="up(node)">
                            <mat-icon>arrow_upward</mat-icon>
                        </button>
                        <button mat-icon-button (click)="down(node)">
                            <mat-icon>arrow_downward</mat-icon>
                        </button>
                        <button mat-icon-button (click)="edit(node)">
                            <mat-icon>edit</mat-icon>
                        </button>
                        <button mat-icon-button (click)="delete(node)">
                            <mat-icon>delete</mat-icon>
                        </button>
                        <button mat-icon-button (click)="addTo(node)">
                            <mat-icon>add</mat-icon>
                        </button>
                    </div>
                    </div>
                    <div [class.selection-tree-invisible]="!treeControl.isExpanded(node)"
                        role="group">
                      <ng-container matTreeNodeOutlet></ng-container>
                  </div>
                </mat-nested-tree-node>
              </mat-tree>
        </mat-card-content>
    </mat-card>
    <mat-card>
        <mat-card-content>
            <app-form [items]="editItems" (change)="change($event)" />
        </mat-card-content>
        <mat-card-actions>
            <button mat-button color="primary" style="width: 100%;" (click)="saveChanges()"> 
                Save Changes
            </button>
        </mat-card-actions>
    </mat-card>
</div>