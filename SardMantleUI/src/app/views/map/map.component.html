<mat-drawer-container class="map-container" [hasBackdrop]="false">
    <mat-drawer #sideDrawer mode="over" position="end" class="map-sidebar" [disableClose]="true">
        <div *ngIf="!viewingObject">
            <mat-accordion [multi]="true" class="map-sidebar-accordion">
                <h3>
                    Map Settings
                </h3>
                <mat-expansion-panel>
                    <mat-expansion-panel-header collapsedHeight="*" expandedHeight="*">
                        <mat-panel-title>
                            Map
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <ng-template matExpansionPanelContent >
                        <div style="display: grid; grid-template-columns: auto auto;">
                            <div style="display: grid; grid-template-columns: 200px auto;">
                                <div>
                                    <h3 class="subtitled-title"> Map Title </h3>
                                    <h4 class="subtitle"> Map Subtitle </h4>
                                    <button mat-button style="margin-left: 10px; margin-top: 30px;"> Change </button>
                                </div>
                                <div>
                                    <button mat-icon-button style="margin: 10px">
                                        <mat-icon>
                                            edit
                                        </mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div>
                                <mat-card class="map-card">
                                    <mat-icon>map</mat-icon>
                                </mat-card>
                            </div>
                        </div>
                    </ng-template>
                </mat-expansion-panel>
                <mat-expansion-panel>
                    <mat-expansion-panel-header collapsedHeight="*" expandedHeight="*">
                        <mat-panel-title>
                            Layers
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="expansion-panel-content">
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
        <div *ngIf="viewingObject">
            <app-view-location *ngIf="!editingObject && !addingObject" (deleted)="deleteComplete()" (editBegin)="editBegin()" #locationViewer>
            </app-view-location>
            <app-edit-location *ngIf="editingObject || addingObject" (complete)="addEditComplete()" (cancel)="addEditCancel()" #locationEditor>
            </app-edit-location>
        </div>
        <mat-card class="centered-button-card" *ngIf="!editingObject && !addingObject">
            <button mat-icon-button (click)="viewCancel()" class="centered-button">
                <mat-icon>close</mat-icon> 
            </button>
        </mat-card>
    </mat-drawer>
    <mat-drawer-content>
        <div class="map-container">
            <div class="map-frame">
                <div id="map"></div>
            </div>
        </div>
        <div class="map-overlay-buttons-container">
            <button mat-raised-button (click)="router.navigate(['/home']);" class="map-overlay-button"><mat-icon>home</mat-icon></button>
            <button mat-raised-button (click)="openMapSettings()" class="map-overlay-button"><mat-icon>menu</mat-icon></button>
            <button mat-raised-button (click)="openAddLocation()" class="map-overlay-button"><mat-icon>add</mat-icon></button>
        </div>
    </mat-drawer-content>
</mat-drawer-container>
